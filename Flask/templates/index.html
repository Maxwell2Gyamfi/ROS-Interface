<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
  <link rel="stylesheet" href="static/styles/main.css" />
  <script type="text/javascript"
    src="http://static.robotwebtools.org/EventEmitter2/current/eventemitter2.min.js"></script>
  <script type="text/javascript" src="http://static.robotwebtools.org/roslibjs/current/roslib.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/nipplejs/0.7.3/nipplejs.js"></script>
  <script type="text/javascript" src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/AlertifyJS/1.13.1/alertify.min.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"
    integrity="sha256-T0Vest3yCU7pafRw9r+settMBX6JkKN06dqBnpQ8d30=" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/AlertifyJS/1.13.1/css/alertify.min.css">
  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
</head>

<body>
  <div id="container">
    <div id="logo">
      <img src="static/images/amrc.jpg" alt="" srcset="">
    </div>

    <div id="commands">

      <h3 id="title"><i class="fa fa-cog" aria-hidden="true"></i> User Settings</h3>
      <div id="modelselection">
        <details>
          <summary><i class="fa fa-pencil-square-o" aria-hidden="true"></i> Robot Model</summary>
          <div class="multi-button">
            <select name="" id="cusSelectbox">
              <option value="manipulator">manipulator</option>
              <option value="panda">panda</option>
              <option value="uknown">unknown</option>
            </select>
            <button id="currentGroup"></button>
          </div>
        </details>
      </div>
      <details>
        <summary><i class="fa fa-plus" aria-hidden="true"></i> New Pose</summary>
        <div class="multi-button">
          <button onclick="addPoseInput()">Input Pose</button>
          <button onclick="addPoseRange()">Range Pose</button>
        </div>

        <div class="multi-button">
          <div id="poseInput" title="Add New Pose" style="display: none;">
            <input type="number" name="aCoord" id="aCoord" placeholder="set a:">
            <input type="number" name="bCoord" id="bCoord" placeholder="set b:">
            <input type="number" name="cCoord" id="cCoord" placeholder="set c:">
            <input type="number" name="xCoord" id="xCoord" placeholder="set x:">
            <input type="number" name="yCoord" id="yCoord" placeholder="set y:">
            <input type="number" name="zCoord" id="zCoord" placeholder="set z:">
            <div class="multi-button">
              <button onclick="planPoseInput()">Plan</button>
              <button onclick="executePoseInput()">Execute</button>
              <button onclick="cancelNewPose()">Cancel</button>
            </div>
          </div>
        </div>


        <div class="poseRange" style="display: none;">
          <div class="range-slider">
            <label>a</label>
            <input type="range" value="0" min="-5" max="5" range="true" class="poseRangeSlider">
            <span class="range-value" id="aSpan"></span>
          </div>
          <div class="range-slider">
            <label>b</label>
            <input type="range" value="0" min="-5" max="5" range="true" class="poseRangeSlider">
            <span class="range-value" id="bSpan"></span>
          </div>
          <div class="range-slider">
            <label>c</label>
            <input type="range" value="0" min="-5" max="5" range="true" class="poseRangeSlider">
            <span class="range-value" id="cSpan"></span>
          </div>

          <div class="range-slider">
            <label>x</label>
            <input type="range" value="0" min="-5" max="5" range="true" class="poseRangeSlider">
            <span class="range-value" id="xSpan"></span>
          </div>
          <div class="range-slider">
            <label>y</label>
            <input type="range" value="0" min="-5" max="5" range="true" class="poseRangeSlider">
            <span class="range-value" id="ySpan"></span>
          </div>

          <div class="range-slider">
            <label>z</label>
            <input type="range" value="0" min="-5" max="5" range="true" class="poseRangeSlider">
            <span class="range-value" id="zSpan"></span>
          </div>

          <div class="multi-button">
            <button onclick="planPoseRange()">Plan</button>
            <button onclick="executePoseRange()">Execute</button>
            <button onclick="cancelNewPose()">Cancel</button>
          </div>
        </div>

      </details>

      <details>
        <summary><i class="fa fa-dot-circle-o" aria-hidden="true"> </i> Poses</summary>
        <div class="multi-button">
          <button onclick="retrievePosesHistory()">Pose History</button>
          <button id="currentPosesButton" onclick="displayCurrentPose()">Current Pose</button>
        </div>
        <div id="currentPosesDiv" title="Current Pose" style="display: none;">
          <div class=" multi-button">
            <button id="apose"></button>
            <button id="bpose"></button>
            <button id="cpose"></button>
            <button id="xpose"></button>
            <button id="ypose"></button>
            <button id="zpose"></button>
          </div>
        </div>

      </details>

      <details id="jointsDetails">
        <summary><i class="fa fa-share-alt" aria-hidden="true"></i> Adjust Joints</summary>
        <div class="joints">
          <div class="range-slider">
            <label>Joint 1</label>
            <input type="range" value="" min="-170" max="170" range="true" step="5" id="joint0"
              oninput="adjustSingleJoint(this)">
            <span class="range-value" id="joint0Span"></span>
          </div>
          <div class="range-slider">
            <label>Joint 2</label>
            <input type="range" value="" min="-120" max="120" range="true" step="5" id="joint1"
              oninput="adjustSingleJoint(this)">
            <span class="range-value" id="joint1Span"></span>
          </div>
          <div class="range-slider">
            <label>Joint 3</label>
            <input type="range" value="" min="-170" max="170" range="true" step="5" id="joint2"
              oninput="adjustSingleJoint(this)">
            <span class="range-value" id="joint2Span"></span>
          </div>

          <div class="range-slider">
            <label>Joint 4</label>
            <input type="range" value="" min="-120" max="120" range="true" step="5" id="joint3"
              oninput="adjustSingleJoint(this)">
            <span class="range-value" id="joint3Span"></span>
          </div>
          <div class="range-slider">
            <label>Joint 5</label>
            <input type="range" value="" min="-170" max="170" range="true" step="5" id="joint4"
              oninput="adjustSingleJoint(this)">
            <span class="range-value" id="joint4Span"></span>
          </div>

          <div class="range-slider">
            <label>Joint 6</label>
            <input type="range" value="" min="-120" max="120" range="true" step="5" id="joint5"
              oninput="adjustSingleJoint(this)">
            <span class="range-value" id="joint5Span"></span>
          </div>

          <div class="range-slider">
            <label>Joint 7</label>
            <input type="range" value="" min="-175" max="175" range="true" step="5" id="joint6"
              oninput="adjustSingleJoint(this)">
            <span class="range-value" id="joint6Span"></span>
          </div>
          <!-- <div class="multi-button">
            <button onclick="grabJointValues()">Adjust</button>
          </div> -->
        </div>

      </details>
      <details>
        <summary><i class="fa fa-eye" aria-hidden="true"></i> Set Visualization</summary>
        <div class="multi-button">
          <button onclick="displayRvizFeed()">3D URDF</button>
          <button onclick="openGazebo()">Gazebo</button>
          <button onclick="openCamera()">Robot and Cell</button>
        </div>
      </details>
      <details>
        <summary><i class="fa fa-plug" aria-hidden="true"></i> Connection Status</summary>
        <div class="multi-button">
          <button id="connectionStatus"></button>
        </div>
      </details>
      <details>
        <summary><i class="fa fa-line-chart" aria-hidden="true"></i> Performance Plots</summary>
        <p>Plots</p>
      </details>
      <details>
        <summary><i class="fa fa-table" aria-hidden="true"></i> Tables</summary>
        <p>Tables</p>
      </details>
      <details>
        <summary><i class="fa fa-history" aria-hidden="true"></i> Logs</summary>
        <p>Logs</p>
      </details>
      <details>
        <summary><i class="fa fa-signal" aria-hidden="true"></i> Sensors</summary>
        <p>Sensors</p>
      </details>
      <details>
        <summary><i class="fa fa-user-plus" aria-hidden="true"></i> Pending Approvals</summary>
        <div id="pendingModal" style="overflow-x: auto; margin-bottom: 5px;">
          <div id="pendingDiv">
            <table id="pendingTable"></table>
          </div>
        </div>
      </details>
      <details>
        <summary><i class="fa fa-undo" aria-hidden="true"></i> Reset</summary>
        <div class="multi-button">
          <button style="background-color:  #e31566;">Reset</button>
        </div>
      </details>
      <details>
        <summary><i class="fa fa-sign-out" aria-hidden="true"></i> Sign-out</summary>
        <div class="multi-button">
          <a href="{{ url_for('signout') }}"><button style="background-color: #e31566;">Logout</button></a>
        </div>
      </details>
    </div>

    <div id="visualization">
      <div style="display: none;" id="gazebo">
        <object data="http://localhost:8080" type="" width="100%" height="100%"></object>
      </div>
      <div id="videofeed" style="display: none;">
        <img src="{{ url_for('video_feed') }}" id="robotcell">
      </div>

      <div id="urdfViewer">
        <img src="" alt="" id="urdf">
      </div>

    </div>
  </div>

  <div id="posesModal" class="modal">
    <div id="posesDiv" class="modal-content">
      <span class="close">&times;</span>
      <table id="posesTable"></table>
    </div>
  </div>

  <script src="static/scripts/main.js"></script>
</body>

</html>